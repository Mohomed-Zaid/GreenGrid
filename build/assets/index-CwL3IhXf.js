import{r as o,j as I,R as M,u as P,y as O,a3 as w}from"./index-5qNp6ZIp.js";function B(e,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(e?.(c),n===!1||!c.defaultPrevented)return t?.(c)}}function z(e,t){const n=o.createContext(t),r=s=>{const{children:u,...i}=s,a=o.useMemo(()=>i,Object.values(i));return I.jsx(n.Provider,{value:a,children:u})};r.displayName=e+"Provider";function c(s){const u=o.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,c]}function _(e,t=[]){let n=[];function r(s,u){const i=o.createContext(u),a=n.length;n=[...n,u];const l=d=>{const{scope:C,children:m,...N}=d,v=C?.[e]?.[a]||i,p=o.useMemo(()=>N,Object.values(N));return I.jsx(v.Provider,{value:p,children:m})};l.displayName=s+"Provider";function f(d,C){const m=C?.[e]?.[a]||i,N=o.useContext(m);if(N)return N;if(u!==void 0)return u;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[l,f]}const c=()=>{const s=n.map(u=>o.createContext(u));return function(i){const a=i?.[e]||s;return o.useMemo(()=>({[`__scope${e}`]:{...i,[e]:a}}),[i,a])}};return c.scopeName=e,[r,b(c,...t)]}function b(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(s){const u=r.reduce((i,{useScope:a,scopeName:l})=>{const d=a(s)[`__scope${l}`];return{...i,...d}},{});return o.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function G(e){const t=e+"CollectionProvider",[n,r]=_(t),[c,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=v=>{const{scope:p,children:E}=v,R=M.useRef(null),S=M.useRef(new Map).current;return I.jsx(c,{scope:p,itemMap:S,collectionRef:R,children:E})};u.displayName=t;const i=e+"CollectionSlot",a=O(i),l=M.forwardRef((v,p)=>{const{scope:E,children:R}=v,S=s(i,E),x=P(p,S.collectionRef);return I.jsx(a,{ref:x,children:R})});l.displayName=i;const f=e+"CollectionItemSlot",d="data-radix-collection-item",C=O(f),m=M.forwardRef((v,p)=>{const{scope:E,children:R,...S}=v,x=M.useRef(null),y=P(p,x),g=s(f,E);return M.useEffect(()=>(g.itemMap.set(x,{ref:x,...S}),()=>void g.itemMap.delete(x))),I.jsx(C,{[d]:"",ref:y,children:R})});m.displayName=f;function N(v){const p=s(e+"CollectionConsumer",v);return M.useCallback(()=>{const R=p.collectionRef.current;if(!R)return[];const S=Array.from(R.querySelectorAll(`[${d}]`));return Array.from(p.itemMap.values()).sort((g,T)=>S.indexOf(g.ref.current)-S.indexOf(T.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:u,Slot:l,ItemSlot:m},N,r]}var D=o.createContext(void 0);function J(e){const t=o.useContext(D);return e||t||"ltr"}function K(e){const t=o.useRef(e);return o.useEffect(()=>{t.current=e}),o.useMemo(()=>(...n)=>t.current?.(...n),[])}var h=globalThis?.document?o.useLayoutEffect:()=>{},U=w[" useId ".trim().toString()]||(()=>{}),$=0;function Q(e){const[t,n]=o.useState(U());return h(()=>{n(r=>r??String($++))},[e]),t?`radix-${t}`:""}var L=w[" useInsertionEffect ".trim().toString()]||h;function X({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[c,s,u]=j({defaultProp:t,onChange:n}),i=e!==void 0,a=i?e:c;{const f=o.useRef(e!==void 0);o.useEffect(()=>{const d=f.current;d!==i&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,r])}const l=o.useCallback(f=>{if(i){const d=F(f)?f(e):f;d!==e&&u.current?.(d)}else s(f)},[i,e,s,u]);return[a,l]}function j({defaultProp:e,onChange:t}){const[n,r]=o.useState(e),c=o.useRef(n),s=o.useRef(t);return L(()=>{s.current=t},[t]),o.useEffect(()=>{c.current!==n&&(s.current?.(n),c.current=n)},[n,c]),[n,r,s]}function F(e){return typeof e=="function"}function W(e,t){return o.useReducer((n,r)=>t[n][r]??n,e)}var k=e=>{const{present:t,children:n}=e,r=H(t),c=typeof n=="function"?n({present:r.isPresent}):o.Children.only(n),s=P(r.ref,V(c));return typeof n=="function"||r.isPresent?o.cloneElement(c,{ref:s}):null};k.displayName="Presence";function H(e){const[t,n]=o.useState(),r=o.useRef(null),c=o.useRef(e),s=o.useRef("none"),u=e?"mounted":"unmounted",[i,a]=W(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return o.useEffect(()=>{const l=A(r.current);s.current=i==="mounted"?l:"none"},[i]),h(()=>{const l=r.current,f=c.current;if(f!==e){const C=s.current,m=A(l);e?a("MOUNT"):m==="none"||l?.display==="none"?a("UNMOUNT"):a(f&&C!==m?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,a]),h(()=>{if(t){let l;const f=t.ownerDocument.defaultView??window,d=m=>{const v=A(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&v&&(a("ANIMATION_END"),!c.current)){const p=t.style.animationFillMode;t.style.animationFillMode="forwards",l=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=p)})}},C=m=>{m.target===t&&(s.current=A(r.current))};return t.addEventListener("animationstart",C),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(l),t.removeEventListener("animationstart",C),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:o.useCallback(l=>{r.current=l?getComputedStyle(l):null,n(l)},[])}}function A(e){return e?.animationName||"none"}function V(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}export{k as P,X as a,B as b,_ as c,J as d,K as e,h as f,z as g,G as h,Q as u};
